(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e,n,r){var o=e.name,i=e.link;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=o,this._image=i,this._templateSelector=n,this._handleCardClick=r,this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".content__like-button"),this._trashButton=this._element.querySelector(".content__delete-button"),this._contentImage=this._element.querySelector(".content__image"),this._contentTitle=this._element.querySelector(".content__title")}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".content__card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._contentTitle.textContent=this._title,this._contentImage.src=this._image,this._contentImage.alt="Изображение: "+this._title,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._handleLikeButton()})),this._trashButton.addEventListener("click",(function(){t._handleDeleteButton()})),this._contentImage.addEventListener("click",(function(){t._handleCardClick(t._title,t._image)}))}},{key:"_handleLikeButton",value:function(){this._likeButton.classList.toggle("content__like-button_active")}},{key:"_handleDeleteButton",value:function(){this._element.remove(),this._element=null}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputSelector=e.inputSelector,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inactiveButtonClass=e.inactiveButtonClass,this._submitButtonSelector=e.submitButtonSelector,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){t.classList.add(this._inputErrorClass),this._errorElement.textContent=t.validationMessage,this._errorElement.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){this._errorElement&&(t.classList.remove(this._inputErrorClass),this._errorElement.textContent="",this._errorElement.classList.remove(this._errorClass))}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(this._buttonElement),this._inputList.forEach((function(e){t._errorElement=t._formElement.querySelector(".".concat(e.name,"-input-error")),t._hideInputError(e)}))}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._errorElement=t._formElement.querySelector(".".concat(e.name,"-input-error")),t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners(),this._formElement.addEventListener("submit",(function(t){t.preventDefault()}))}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),u=document.querySelector(".popup-profile"),l=document.querySelector(".popup-card"),c=document.querySelector(".popup-image"),s=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),p=document.querySelector(".profile__name"),f=document.querySelector(".profile__job"),y=document.querySelector(".content__list"),m=document.querySelector(".popup__form-profile"),v=document.querySelector(".popup__form-card"),h={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===b(o)?o:String(o)),r)}var o}var d=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=r,this._renderer=o,this._container=n}var e,n;return e=t,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var t=this;this.clear(),this._renderedItems.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&_(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}var E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&!(t.ctrlKey||t.altKey||t.shiftKey)&&this._popup.classList.contains("popup_opened")&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("popup__close-button")&&t.close(),e.target.classList.contains("popup_opened")&&t.close()}))}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},j.apply(this,arguments)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._image=e._popup.querySelector(".popup__image"),e._title=e._popup.querySelector(".popup__caption"),e}return e=u,(n=[{key:"open",value:function(t,e){this._image.src=e,this._image.alt="Фотография "+t,this._title.textContent=t,j(P(u.prototype),"open",this).call(this)}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},B.apply(this,arguments)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(o){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleSubmitForm=e,n._popupForm=n._popup.querySelector(".popup__form"),n._inputsList=n._popupForm.querySelectorAll(".popup__input"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputValues={},this._inputsList.forEach((function(e){t._inputValues[e.name]=e.value})),this._inputValues}},{key:"setInputsValues",value:function(t){this._inputsList.forEach((function(e){e.value=t[e.name]}))}},{key:"setEventListeners",value:function(){var t=this;B(T(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmitForm(t._getInputValues()),t.close()}))}},{key:"close",value:function(){B(T(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}var D=function(){function t(e){var n=e.name,r=e.job;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n,this._job=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._job.textContent=t.job}}])&&V(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),F=new d({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(t){var e=U(t);F.addItem(e)}},y);function U(t){return new n(t,"#content__card-template",A).generateCard()}function A(t,e){H.open(t,e)}F.renderItems();var K=new D({name:p,job:f}),M=new i(h,m);M.enableValidation();var z=new i(h,v);z.enableValidation();var H=new L(c);H.setEventListeners();var N=new x(l,(function(t){var e=U(t);F.addItem(e),N.close()}));N.setEventListeners();var G=new x(u,(function(t){K.setUserInfo(t)}));G.setEventListeners(),s.addEventListener("click",(function(){G.open(),G.setInputsValues(K.getUserInfo()),M.resetValidation()})),a.addEventListener("click",(function(){N.open(),z.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FFRi9DLEdBSUYsU0FBU2dELEVBQVdULEdBS2xCLE9BSGEsSUFBSWxILEVBQUtrSCxFQUFNLDBCQUEyQlcsR0FFOUJDLGNBRTNCLENBRUEsU0FBU0QsRUFBbUIxSCxFQUFNQyxHQUNoQzJILEVBQVdDLEtBQUs3SCxFQUFNQyxFQUN4QixDQVpBcUgsRUFBU1EsY0F1QlQsSUFBTUMsRUFBVyxJQUFJYixFQUFTLENBQzVCbEgsS0FBTXNFLEVBQ042QyxJQUFLNUMsSUFFRHlELEVBQTJCLElBQUlyRyxFQUFjZ0QsRUFBa0JGLEdBQ3JFdUQsRUFBeUJDLG1CQUN6QixJQUFNQyxFQUEwQixJQUFJdkcsRUFBY2dELEVBQWtCRCxHQUNwRXdELEVBQXdCRCxtQkFFeEIsSUFBTUwsRUFBYSxJQUFJdEIsRUFBZW5DLEdBQ3RDeUQsRUFBV08sb0JBQ1gsSUFBTUMsRUFBVyxJQUFJN0IsRUFBY3JDLEdBaEJuQyxTQUFvQ21FLEdBQ2xDLElBQU1kLEVBQU9DLEVBQVdhLEdBQ3hCZixFQUFTRyxRQUFRRixHQUNqQmEsRUFBU2pDLE9BQ1gsSUFhQWlDLEVBQVNELG9CQUNULElBQU1HLEVBQVksSUFBSS9CLEVBQWN0QyxHQXRCcEMsU0FBcUM4QyxHQUNuQ2dCLEVBQVNRLFlBQVl4QixFQUN2QixJQXFCQXVCLEVBQVVILG9CQUVWL0QsRUFBa0IvQyxpQkFBaUIsU0FBUyxXQUMxQ2lILEVBQVVULE9BQ1ZTLEVBQVVFLGdCQUFnQlQsRUFBU1UsZUFDbkNULEVBQXlCVSxpQkFDM0IsSUFHQXJFLEVBQWlCaEQsaUJBQWlCLFNBQVMsV0FDekMrRyxFQUFTUCxPQUNUSyxFQUF3QlEsaUJBQzFCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rIH0sIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX3RpdGxlID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZSA9IGxpbms7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50X19saWtlLWJ1dHRvbicpO1xuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudF9fZGVsZXRlLWJ1dHRvbicpO1xuICAgIHRoaXMuX2NvbnRlbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnRfX2ltYWdlJyk7XG4gICAgdGhpcy5fY29udGVudFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudF9fdGl0bGUnKTtcbiAgfVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50X19jYXJkJylcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICAvLyDQlNC+0LHQsNCy0LjQvCDQtNCw0L3QvdGL0LVcbiAgICB0aGlzLl9jb250ZW50VGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9jb250ZW50SW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2U7XG4gICAgdGhpcy5fY29udGVudEltYWdlLmFsdCA9ICfQmNC30L7QsdGA0LDQttC10L3QuNC1OiAnICsgdGhpcy5fdGl0bGU7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAvLyDQktC10YDQvdGR0Lwg0L3QsNGA0YPQttGDXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jb250ZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fdGl0bGUsIHRoaXMuX2ltYWdlKTtcbiAgICB9KTtcbiAgfVxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2NvbnRlbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICB9XG4gIF9oYW5kbGVEZWxldGVCdXR0b24oKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxufTtcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLl9lcnJvckVsZW1lbnQpIHJldHVybjtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9idXR0b25FbGVtZW50KTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGAuJHtpbnB1dC5uYW1lfS1pbnB1dC1lcnJvcmBcbiAgICAgICk7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH1cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIH1cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGAuJHtpbnB1dEVsZW1lbnQubmFtZX0taW5wdXQtZXJyb3JgXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXByb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBwb3B1cEFkZENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtY2FyZCcpO1xuZXhwb3J0IGNvbnN0IHBvcHVwU2hvd0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWltYWdlJyk7XG5cbmV4cG9ydCBjb25zdCBidXR0b25FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IG5hbWVQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcbmV4cG9ydCBjb25zdCBqb2JQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2pvYicpO1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnRfX2xpc3QnKTtcbmV4cG9ydCBjb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0tcHJvZmlsZScpO1xuZXhwb3J0IGNvbnN0IGZvcm1BZGRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWNhcmQnKTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9Ca0LDQvNGH0LDRgtC60LAnLFxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9CR0LDQudC60LDQuycsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJ1xuICB9XG5dO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZScsXG59O1xuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICB9XG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCIvLyDQutC70LDRgdGBIFBvcHVwINC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXG5leHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG4gIF9oYW5kbGVFc2NDbG9zZShlKSB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgY29uc3QgaXNOb3RDb21iaW5lZEtleSA9ICEoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkpO1xuICAgICAgaWYgKGlzTm90Q29tYmluZWRLZXkgJiYgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XG4gIH1cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSAn0KTQvtGC0L7Qs9GA0LDRhNC40Y8gJyArIG5hbWU7XG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybSkge1xuICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gaGFuZGxlU3VibWl0Rm9ybTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9pbnB1dHNMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgfVxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9pbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcbiAgfVxuICBzZXRJbnB1dHNWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0c0xpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGpvYiB9KSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fam9iID0gam9iO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBkYXRhLmpvYjtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHBvcHVwRWRpdFByb2ZpbGUsXG4gIHBvcHVwQWRkQ29udGVudCxcbiAgcG9wdXBTaG93SW1hZ2UsXG4gIG5hbWVQcm9maWxlLFxuICBqb2JQcm9maWxlLFxuICBidXR0b25FZGl0UHJvZmlsZSxcbiAgYnV0dG9uQWRkQ29udGVudCxcbiAgY29udGVudExpc3QsXG4gIGZvcm1FZGl0UHJvZmlsZSxcbiAgZm9ybUFkZENvbnRlbnQsXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6INC40Lcg0LzQsNGB0YHQuNCy0LBcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LIgRE9NXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmQpO1xuICAgIH0sXG4gIH0sXG4gIGNvbnRlbnRMaXN0XG4pO1xuY2FyZExpc3QucmVuZGVySXRlbXMoKTtcbi8vINGB0L7Qt9C00LDQtdC8INGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LBcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICAvLyDQodC+0LfQtNCw0LTQuNC8INGN0LrQt9C10LzQv9C70Y/RgCDQutCw0YDRgtC+0YfQutC4XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCAnI2NvbnRlbnRfX2NhcmQtdGVtcGxhdGUnLCBzaG93UG9wdXBXaXRoSW1hZ2UpO1xuICAvLyDQodC+0LfQtNCw0ZHQvCDQuCDQstC+0LfQstGA0LDRidCw0LXQvCDQvdCw0YDRg9C20YNcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG4vL9Ce0YLQutGA0YvRgtC40LUg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC4XG5mdW5jdGlvbiBzaG93UG9wdXBXaXRoSW1hZ2UobmFtZSwgbGluaykge1xuICBwb3B1cEltYWdlLm9wZW4obmFtZSwgbGluayk7XG59XG4vLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0YDQvtGE0LjQu9GPXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRGb3JtRWRpdFByb2ZpbGUoZGF0YSkge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbn1cbi8vINCk0L7RgNC80LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxuZnVuY3Rpb24gaGFuZGxlU3VibWl0Rm9ybUFkZENvbnRlbnQob2JqKSB7XG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKG9iaik7XG4gIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZCk7XG4gIHBvcHVwQWRkLmNsb3NlKCk7XG59XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWU6IG5hbWVQcm9maWxlLFxuICBqb2I6IGpvYlByb2ZpbGUsXG59KTtcbmNvbnN0IHZhbGlkYXRvckZvcm1FZGl0UHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FZGl0UHJvZmlsZSk7XG52YWxpZGF0b3JGb3JtRWRpdFByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgdmFsaWRhdG9yRm9ybUFkZENvbnRlbnQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtQWRkQ29udGVudCk7XG52YWxpZGF0b3JGb3JtQWRkQ29udGVudC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBTaG93SW1hZ2UpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZENvbnRlbnQsIGhhbmRsZVN1Ym1pdEZvcm1BZGRDb250ZW50KTtcbnBvcHVwQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRQcm9maWxlLCBoYW5kbGVTdWJtaXRGb3JtRWRpdFByb2ZpbGUpO1xucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG4vLyDQn9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmJ1dHRvbkVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEVkaXQub3BlbigpO1xuICBwb3B1cEVkaXQuc2V0SW5wdXRzVmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICB2YWxpZGF0b3JGb3JtRWRpdFByb2ZpbGUucmVzZXRWYWxpZGF0aW9uKCk7XG59XG4pO1xuLy8g0J/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQtdC6XG5idXR0b25BZGRDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEFkZC5vcGVuKCk7XG4gIHZhbGlkYXRvckZvcm1BZGRDb250ZW50LnJlc2V0VmFsaWRhdGlvbigpO1xufVxuKTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIm5hbWUiLCJsaW5rIiwidGhpcyIsIl90aXRsZSIsIl9pbWFnZSIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2xpa2VCdXR0b24iLCJxdWVyeVNlbGVjdG9yIiwiX3RyYXNoQnV0dG9uIiwiX2NvbnRlbnRJbWFnZSIsIl9jb250ZW50VGl0bGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImFkZCIsIl9lcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dCIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJkaXNhYmxlZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwic29tZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJlIiwicHJldmVudERlZmF1bHQiLCJwb3B1cEVkaXRQcm9maWxlIiwicG9wdXBBZGRDb250ZW50IiwicG9wdXBTaG93SW1hZ2UiLCJidXR0b25FZGl0UHJvZmlsZSIsImJ1dHRvbkFkZENvbnRlbnQiLCJuYW1lUHJvZmlsZSIsImpvYlByb2ZpbGUiLCJjb250ZW50TGlzdCIsImZvcm1FZGl0UHJvZmlsZSIsImZvcm1BZGRDb250ZW50IiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsIlNlY3Rpb24iLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaW5uZXJIVE1MIiwiY2xlYXIiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImtleSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsImNvbnRhaW5zIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwic2VsZWN0b3IiLCJoYW5kbGVTdWJtaXRGb3JtIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJfcG9wdXBGb3JtIiwiX2lucHV0c0xpc3QiLCJfaW5wdXRWYWx1ZXMiLCJ2YWx1ZSIsImRhdGEiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwiam9iIiwiX25hbWUiLCJfam9iIiwiY2FyZExpc3QiLCJjYXJkIiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJzaG93UG9wdXBXaXRoSW1hZ2UiLCJnZW5lcmF0ZUNhcmQiLCJwb3B1cEltYWdlIiwib3BlbiIsInJlbmRlckl0ZW1zIiwidXNlckluZm8iLCJ2YWxpZGF0b3JGb3JtRWRpdFByb2ZpbGUiLCJlbmFibGVWYWxpZGF0aW9uIiwidmFsaWRhdG9yRm9ybUFkZENvbnRlbnQiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwQWRkIiwib2JqIiwicG9wdXBFZGl0Iiwic2V0VXNlckluZm8iLCJzZXRJbnB1dHNWYWx1ZXMiLCJnZXRVc2VySW5mbyIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=